<!DOCTYPE html>
<html lang="en">
	
	<head>
	
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	
		<!-- Project CSS file -->
	<link rel="stylesheet" href="../Project-CSS-file/CMS.css">
	
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.4.1/css/bootstrap.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/css/bootstrap-responsive.css">

		<!--font-awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

	<!-- Bootstrap 5.1.3 CSS -->
	<link href ="../bootstrap-5.1.3-dist/css/bootstrap.min.css" rel ="stylesheet">
	
	<link href ="../dataTables.bootstrap5.min.css" rel="stylesheet">
	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js"></script>

   <title>Campus Management System</title>
   </head>

	<body class="d-flex flex-column min-vh-100 main">
	
	<div class="container-fluid">
		<div class="row">	
			<div id="header">
				<div id="left_menu" class="col-sm-7 float-start">
					<div id="image_logo" class="float-start">
					<img src="../images/Govt_punjab_logo.jpg" alt="" width="64" height="50">
					</div>
					<div class="float-start">
						<p id="main_heading">CAMPUS MANAGEMENT SYSTEM <br> <span id= "sub_heading">Govt. of the Punjab</span></p>
					</div>
				</div>
				<div id="right_menu" class=" navbar-light float-end col-sm-5">
					<div id="userNav">
					
					<ul class="navbar-nav">
						<li class="nav-item dropdown">
						  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
							DG ADMIN
						  </a>
						  <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
							<li><a class="dropdown-item" href="#">Profile</a></li>
							<li><a class="dropdown-item" href="#">Settings</a></li>
							<li><a class="dropdown-item" href="#">Logout</a></li>
						  </ul>
						</li>
						</ul>
					</div>
					<!--<p id="username">DG ADMIN</p> -->
					<div id="image_user" class="float-end">
					<img src="../images/userPic.jpeg" alt="" id="imageSignIn" width="50" height="50">
					</div>
				</div>
			</div>
		</div>
		
		<div class="clear_floating"></div>
		 
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
			<div class="container-fluid">
			<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#main_nav"  aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="main_nav">
			  <ul class="navbar-nav">
				
				<li class="nav-item dropdown" id="myDropdown">
				  <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">Annual Work Plan</a>
				  <ul class="dropdown-menu">
					<li> <a class="dropdown-item" href="#">Long Duration Class</a></li>
					<li> <a class="dropdown-item" href="#">Short Duration Course</a></li>
					<li><a class="dropdown-item" href="#">Detailed Annual Work Plan</a></li>
					<li><a class="dropdown-item" href="#">Approved Annual Work Plan</a></li>
				  </ul>
				</li>
				
				<li class="nav-item dropdown" id="myDropdown">
				  <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">HR</a>
				  <ul class="dropdown-menu">
					<li> <a class="dropdown-item" href="#">New Post</a></li>
					<li> <a class="dropdown-item" href="#">Filled/Vacant Post</a></li>		
				  </ul>
				</li>
				
				<li class="nav-item dropdown" id="myDropdown">
				  <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">Trainee Enrolement</a>
				  <ul class="dropdown-menu">
					<li> <a class="dropdown-item" href="#">Add a New Trainee</a></li>
					<li> <a class="dropdown-item" href="#">Nominate a Trainee</a></li>
					<li><a class="dropdown-item" href="#">Trainee Details</a></li>
					<li><a class="dropdown-item" href="#">Nominee Details</a></li>
				  </ul>
				</li>
				
				<li class="nav-item"><a class="nav-link" href="#">Attendance</a></li>
				
				<li class="nav-item dropdown" id="myDropdown">
				  <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">Timetable</a>
				  <ul class="dropdown-menu">
					<li> <a class="dropdown-item" href="#">Timetable &raquo; </a>
					  <ul class="submenu dropdown-menu">
						<li><a class="dropdown-item" href="#">Design Timetable</a></li>
						<li><a class="dropdown-item" href="#">View Timetable</a></li>
						</ul>
					</li>
					
					<li> <a class="dropdown-item" href="#">Tentative Training Programme &raquo; </a>
					  <ul class="submenu dropdown-menu">
						<li><a class="dropdown-item" href="#">Design Tentative Training Programme</a></li>
						<li><a class="dropdown-item" href="#">View Tentative Training Programme</a></li>
						</ul>
					</li>					
				  </ul>
				</li>
				
				<li class="nav-item dropdown" id="myDropdown">
				  <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">Syllabus</a>
				  <ul class="dropdown-menu">
					<li> <a class="dropdown-item" href="#">Direct AR & Inspector Syllabus</a></li>
					<li> <a class="dropdown-item" href="#">Promottee AR & Inspector Syllabus</a></li>
					<li><a class="dropdown-item" href="#">Direct Sub-Inspector Syllabus</a></li>
				  </ul>
				</li>
				
				<li class="nav-item dropdown" id="myDropdown">
				  <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">Examination</a>
				  <ul class="dropdown-menu">
					<li> <a class="dropdown-item" href="#">Datesheet &raquo; </a>
					  <ul class="submenu dropdown-menu">
						<li><a class="dropdown-item" href="#">Design Datesheet</a></li>
						<li><a class="dropdown-item" href="#">View Datesheet</a></li>
						</ul>
					</li>
					
					<li> <a class="dropdown-item" href="#">Result &raquo; </a>
					  <ul class="submenu dropdown-menu">
						<li><a class="dropdown-item" href="#">Upload Result</a></li>
						<li><a class="dropdown-item" href="#">View Result</a></li>
						</ul>
					</li>
					
					<li> <a class="dropdown-item" href="#">Certificate &raquo; </a>
					  <ul class="submenu dropdown-menu">
						<li><a class="dropdown-item" href="#">Design Certificate</a></li>
						<li><a class="dropdown-item" href="#">Download Certifictae</a></li>
						</ul>
					</li>	
						
				  </ul>
				</li>
				
				<li class="nav-item dropdown" id="myDropdown">
				  <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">Reports</a>
				  <ul class="dropdown-menu">
					<li> <a class="dropdown-item" href="#">Monthly Report</a></li>
					<li> <a class="dropdown-item" href="#">Annual Report</a></li>
				  </ul>
				</li>
				
			  </ul>
			</div>
			<!-- navbar-collapse.// -->
			</div>
			<!-- container-fluid.// -->
		</nav>
		
		<div id="pageInfo">
				
			<div id="pageInfoMainHeading" class="col-sm-3">
				<p style="color: white;">Campus Management System</p><br><span id="pageInfoSubHeading">Design Tentative Training Program</span>
			</div>
							
			<div class="col-sm-2"></div>
							
			<div id="deptLogo" class="col-sm-6">
				<img src="../images/cooperative-logo.png" alt="">
			</div>
		</div>
		
		 <div class="clear-floating"></div>
		 
	
		<div id="Form" class="col-lg-12">
	
			<div class="row">
				<div class="col-sm-4 col-md-5 col-lg-4">
					<label class="form-label" for="From"> From</label>
					<input type="date" id="ds1" class="form-control">
					<div id="dse1" class="errordiv"></div>
				</div>
				
				<div class="col-sm-4 col-md-5 col-lg-4">
					<label class="form-label" for="To"> To</label>
					<input type="date" id="de1" class="form-control">
					<div id="dee1" class="errordiv"></div>
				</div>
				
				<div class="col-sm-4 col-md-2 col-lg-4">
					<label for = "Programme" class= "form-label">Programme</label>
					<textarea class="form-control" id="p1"></textarea>
					<div id="pe1" class="errordiv"></div>
				</div>
			</div>
			
			<div class="row mt-3" id="addMoreDiv">
				<div class="col-sm-2 mx-auto">
					<button type="submit" class="btn btn-primary addMore">Add More</button>
				</div>
			</div>
			
			<div class="row mt-4">
				<div class="col-sm-3">
					<div class="col-sm-1 me-3 float-start">
						No
					</div>
					<div class="col-sm-4 float-start" id="TTPNumber">  
						<input type="text" class="form-control" id="referenceNo" placeholder="Enter No.">
					</div>
					<div class="col-sm-1 float-start">
						CTC/FSD
					</div>
				</div>
			</div>
			
			<div class="row mt-4">
				<div class="col-sm-4"></div>
				<div class="col-sm-2 ml-5">
					<button type="submit" class="btn btn-primary mt-4" value="Save" id="approvalButtonDesignTimeTable">Forward for Principal's Approval</button>
				</div>
			</div>
			
			<div id="haha"></div>
		</div>
	</div>	
	
	<footer class = "mt-auto">	
		<div id="footer">
			<p id="footerText">Campus Management System Punjab &copy; All rights reserved.</p>
		</div>
	</footer>


	<script type="text/javascript">
		document.addEventListener("DOMContentLoaded", function(){
			// make it as accordion for smaller screens
			if (window.innerWidth < 992) {

			  // close all inner dropdowns when parent is closed
			  document.querySelectorAll('.navbar .dropdown').forEach(function(everydropdown){
				everydropdown.addEventListener('hidden.bs.dropdown', function () {
				  // after dropdown is hidden, then find all submenus
					this.querySelectorAll('.submenu').forEach(function(everysubmenu){
					  // hide every submenu as well
					  everysubmenu.style.display = 'none';
					});
				})
			  });

			  document.querySelectorAll('.dropdown-menu a').forEach(function(element){
				element.addEventListener('click', function (e) {
					let nextEl = this.nextElementSibling;
					if(nextEl && nextEl.classList.contains('submenu')) {	
					  // prevent opening link if link needs to open dropdown
					  e.preventDefault();
					  if(nextEl.style.display == 'block'){
						nextEl.style.display = 'none';
					  } else {
						nextEl.style.display = 'block';
					  }

					}
				});
			  })
			}
			// end if innerWidth
			}); 
		
		var Count = 1, prevCount=0; 
		
		$(".addMore").click(function(){
			
			var checkProgram;
			
			checkProgram = getDateDifference();
			
			if (checkProgram==true)
			{
				Count++;
				prevCount++;
				
				// Creating Row div start
				var rowDiv = document.createElement('div');
				rowDiv.classList.add('row');
				rowDiv.classList.add('mt-3');
				// Creating Row div end
				
				//Creating Start Date Div start 
				var divStartDate = document.createElement('div');
				rowDiv.appendChild(divStartDate);
				divStartDate.classList.add('col-sm-4');
				divStartDate.classList.add('col-md-5');
				divStartDate.classList.add('col-lg-4');
				
				//Creating Start Div Label start
				var labelStartDiv = document.createElement('label');
				divStartDate.appendChild(labelStartDiv);
				labelStartDiv.classList.add('form-label');
				labelStartDiv.htmlFor = "Form";
				labelStartDiv.innerHTML = "Form";
				//Creating Start Div Label end
				
				//Creating Start date input start
				var inputStartDate = document.createElement('input');
				divStartDate.appendChild(inputStartDate);
				inputStartDate.classList.add('form-control');
				inputStartDate.setAttribute('type', 'date');
				inputStartDate.setAttribute('id', 'ds'+ Count.toString());
				//Creating Start date input end
				
				//Creating Start date error div start
				var errorStartDate = document.createElement('div');
				divStartDate.appendChild(errorStartDate);
				errorStartDate.classList.add('errordiv');
				errorStartDate.setAttribute('id', 'dse' + Count.toString());
				//Creating Start date error div end
				
				//Creating Start Date Div end
				
				//Creating End Date Div start 
				var divEndDate = document.createElement('div');
				rowDiv.appendChild(divEndDate);
				divEndDate.classList.add('col-sm-4');
				divEndDate.classList.add('col-md-5');
				divEndDate.classList.add('col-lg-4');
				
				//Creating End Div Label start
				var labelEndDiv = document.createElement('label');
				divEndDate.appendChild(labelEndDiv);
				labelEndDiv.classList.add('form-label');
				labelEndDiv.htmlFor = "To";
				labelEndDiv.innerHTML = "To";
				//Creating End Div Label end
				
				//Creating End date input start
				var inputEndDate = document.createElement('input');
				divEndDate.appendChild(inputEndDate);
				inputEndDate.classList.add('form-control');
				inputEndDate.setAttribute('type', 'date');
				inputEndDate.setAttribute('id', 'de'+ Count.toString());
				//Creating End date input end
				
				//Creating End date error div start
				var errorEndDate = document.createElement('div');
				divEndDate.appendChild(errorEndDate);
				errorEndDate.classList.add('errordiv');
				errorEndDate.setAttribute('id', 'dee' + Count.toString());
				//Creating End date error div end
				
				//Creating End Date Div end
				
				//Creating Program Div start
				var divProgram = document.createElement('div');
				rowDiv.appendChild(divProgram);
				divProgram.classList.add('col-sm-4');
				divProgram.classList.add('col-md-2');
				divProgram.classList.add('col-lg-4');
				
				//Creating label of Program Div Start
				var labelProgram = document.createElement('label');
				divProgram.appendChild(labelProgram);
				labelProgram.classList.add('form-label');
				labelProgram.htmlFor = "Programme";
				labelProgram.innerHTML = "Programme";
				//Creating label of Program Div End
				
				//Creating textarea of Program Div Start
				var textAreaProgram = document.createElement('textarea');
				divProgram.appendChild(textAreaProgram);
				textAreaProgram.classList.add('form-control');
				textAreaProgram.setAttribute('id', 'p'+Count.toString());
				//Creating textarea of Program Div End
				
				//Creating Error Div of program div start
				var errorProgram = document.createElement('div');
				divProgram.appendChild(errorProgram);
				errorProgram.classList.add('errordiv');
				errorProgram.setAttribute('id', 'pe'+Count.toString());
				//Creating Error Div of program div end
				
				//Creating Program Div end
				
				$("#addMoreDiv").before(rowDiv);
			}
			
		});
		
		 function getDateDifference()
		{
			// To calculate the time difference of two dates
			var Difference_In_Time = (new Date($("#de" + Count.toString()).val()) - new Date($("#ds" + Count.toString()).val()));
			
			// To calculate the no. of days between two dates
			var Difference_In_Days = Difference_In_Time / (1000 * 3600 * 24);
			
			// To calculate the time difference with previous date
			var Diff_With_Previous_Time = (new Date($("#ds" + Count.toString()).val()) - new Date($("#de" + prevCount.toString()).val()));
			
			// To calculate the no. of days between current start and previous end date
			var Difference_With_Previous_Day = Diff_With_Previous_Time / (1000 * 3600 * 24);
			
			$("#haha").html(Difference_In_Days);
			
			if(($("#ds"+Count.toString()).val() == "" ) || ($("#de"+Count.toString()).val() == "" ) || ($("#p"+Count.toString()).val() == "" ) )
			{
				$("#dse" + Count.toString()).html("");
				$("#dee" + Count.toString()).html("");
				$("#pe" + Count.toString()).html("");
				
				if($("#ds"+Count.toString()).val() == "" )
				$("#dse" + Count.toString()).html("Start Date can't be empty!");
				
				if($("#de"+Count.toString()).val() == "" )
				$("#dee" + Count.toString()).html("End Date can't be empty!");
				
				if($("#p"+Count.toString()).val() == "" )
				$("#pe" + Count.toString()).html("Program description can't be empty!");
			}
			else if(Difference_With_Previous_Day < 0)
			{
				$("#dse" + Count.toString()).html("");
				$("#dee" + Count.toString()).html("");
				$("#pe" + Count.toString()).html("");

				$("#dse" + Count.toString()).html("Start Date can't be less than Previous End Date!");
			}
			else if(Difference_In_Days < 0)
			{
				$("#dse" + Count.toString()).html("");
				$("#dee" + Count.toString()).html("");
				$("#pe" + Count.toString()).html("");

				$("#dee" + Count.toString()).html("End Date can't be less than Start Date!");
			}
			else
			{
				$("#dse" + Count.toString()).html("");
				$("#dee" + Count.toString()).html("");
				$("#pe" + Count.toString()).html("");
				
				return true;
			}
		}
		
	</script>
	
<script src ="../bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js"> </script> <!-- Bootstrap framework--> 

	</body>

</html>